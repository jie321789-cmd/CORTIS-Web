<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>CORTIS OFFICIAL</title>
    <style>
        :root {
            --main-color: #CCFF00;
        }

        body {

            

            margin: 0;
            background: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        /* --- èƒŒæ™¯å±‚ --- */
        #photoSlider {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: #000;
        }

        #photoSlider img {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
        }

        #photoSlider img.active { opacity: 1; }

        #bgVideo {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            opacity: 0;
            transition: 0.8s;
            object-fit: cover;
            /* 35% è®©äººç‰©åœ¨ç”»é¢ä¸­ä½ç½®æ›´èˆ’æœï¼Œä¸ä¼šé¡¶å¤´ */
            object-position: center 35%;
            background-color: #000; /* ç¡®ä¿è§†é¢‘å®¹å™¨æœ¬èº«æ˜¯é»‘çš„ */
        }

        /* --- ä¾§è¾¹å¯¼èˆª (Logo + æŒ‰é’®) --- */
        .nav {
            position: absolute;
            left: 40px; /* å…¨å±€å·¦ä¾§è¾¹è·åŸºå‡† */
            top: 60px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            z-index: 10;
        }

        .logo-btn {
            width: 120px; /* ç¨å¾®å¤§ä¸€ç‚¹æ›´éœ¸æ°” */
            margin-bottom: 25px;
            cursor: pointer;
            transition: 0.3s;
        }
        .logo-btn:hover { transform: scale(1.05); }
        .logo-btn img { width: 100%; height: auto; }

        .nav button {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 15px 20px;
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 2px;
            transition: 0.4s;
            width: 180px; /* ç»Ÿä¸€å®½åº¦ */
            text-align: left;
            backdrop-filter: blur(5px);
            position: relative;
    overflow: hidden;
    transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav button:hover {
            background: var(--main-color);
            color: #000;
            padding-left: 35px;
            box-shadow: 0 0 20px var(--main-color); /* å¢åŠ å‘å…‰æ„Ÿ */
        }

        /* --- æˆå‘˜åå­—åŒº (å·¦ä¸‹è§’ä¿®å¤ç‰ˆ) --- */
        .content {
            position: absolute;
            left: 40px;      /* å…³é”®ï¼šä¸ä¾§è¾¹æ å¯¹é½ï¼Œè§£å†³â€œå¥‡æ€ªæ„Ÿâ€ */
            bottom: 60px;    /* è·ç¦»åº•éƒ¨é€‚å½“ç•™ç™½ */
            z-index: 5;
            text-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
            pointer-events: none;
            text-align: left;
            display: flex;
    flex-direction: column;
        }

        /* åœ¨åå­—ä¸‹æ–¹åŠ ä¸€æ¡çª„çª„çš„è£…é¥°çº¿ */
#mName::after {
    content: "";
    display: block;
    width: 40px; /* åˆå§‹å®½åº¦ */
    height: 4px;
    background: var(--main-color);
    margin: 15px 0;
   transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1), background 0.4s;
}

/* å½“å†…å®¹æ˜¾ç°æ—¶ï¼Œçº¿æ®µä¼¸é•¿ */
.content.show #mName::after {
    width: 140px;
}

/* è¯­éŸ³è·³åŠ¨åŠ¨ç”» */
@keyframes wave {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(3); }
}

.content.speaking #mName::after {
    animation: wave 0.2s infinite ease-in-out;
    background: #fff !important; /* è¯´è¯æ—¶æ¨ªçº¿å˜ç™½ */
    transform-origin: bottom;
}

/* 2. ä¼˜åŒ–å‰¯æ ‡é¢˜çš„å‘¼å¸æ„Ÿ */
#mRole {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.6em; /* è®©å­—æ¯æ’å¾—æ›´å¼€ï¼Œæ›´æœ‰å‘¼å¸æ„Ÿ */
    text-transform: uppercase;
    opacity: 0.8;
    margin-top: 10px;
    color: #fff;
    /* åˆ‡æ¢æ—¶çš„å¾®å¼±æ·¡å…¥ */
    transition: opacity 0.5s ease;
}

        h1 {
            font-size: 70px; /* åå­—å¤§ä¸€ç‚¹æ›´æœ‰å¼ åŠ› */
            margin: 0;
            color: var(--main-color);
            font-weight: 900;
            line-height: 0.85;
            text-transform: uppercase;
            letter-spacing: -2px;
        }

        h3 {
            font-size: 14px;
            margin: 10px 0 0 2px;
            letter-spacing: 4px;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
        }

        /* --- å³ä¾§æ¡£æ¡ˆå¡ --- */
        .info-card {
            position: absolute;
            right: -350px;
            top: 0;
            width: 320px;
            height: 100vh;
            background: linear-gradient(to left, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.6));
            backdrop-filter: blur(15px);
            padding: 120px 40px;
            box-sizing: border-box;
            z-index: 8;
            transition: 0.7s cubic-bezier(0.16, 1, 0.3, 1);
            border-right: 6px solid var(--main-color);
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .info-card.active { right: 0; }

        .info-item h4 {
            color: var(--main-color);
            font-size: 11px;
            margin: 0 0 10px 0;
            letter-spacing: 2px;
        }

        .info-item .data-text {
            font-size: 24px;
            font-weight: 800;
            color: #fff;
        }

        /* --- æ–°å¢ï¼šæ¡£æ¡ˆå¡å†…å®¹äº¤é”™åŠ¨ç”» --- */
.info-item {
    opacity: 0;
    transform: translateX(30px);
    transition: all 0.4s ease-out; /* è¿™é‡Œçš„è¿‡æ¸¡è¦æ¯”å¤–å£³å¿«ä¸€ç‚¹ */
}

/* å½“çˆ¶çº§å¡ç‰‡ active æ—¶ï¼Œå­é¡¹å½’ä½ */
.info-card.active .info-item {
    opacity: 1;
    transform: translateX(0);
}

/* ä¸º 4 ä¸ªé¡¹ç›®è®¾ç½®ä¸åŒçš„å»¶è¿Ÿæ—¶é—´ï¼Œè¥é€ â€œæ’é˜Ÿâ€æ„Ÿ */
.info-card.active .info-item:nth-child(1) { transition-delay: 0.2s; }
.info-card.active .info-item:nth-child(2) { transition-delay: 0.3s; }
.info-card.active .info-item:nth-child(3) { transition-delay: 0.4s; }
.info-card.active .info-item:nth-child(4) { transition-delay: 0.5s; }

        /* --- å¼€åœºåŠ¨ç”»æ ·å¼ --- */
#intro-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    z-index: 9999; /* ç¡®ä¿åœ¨æœ€é¡¶å±‚ */
    display: flex;
    justify-content: center;
    align-items: center;
    transition: opacity 0.8s ease;
}

#intro-logo {
    width: 300px; /* åˆå§‹å·¨å¤§çŠ¶æ€ */
    filter: drop-shadow(0 0 20px var(--main-color));
    animation: logo-entrance 2.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* æ ¸å¿ƒåŠ¨ç”»ï¼šç¼©æ”¾å¹¶ç§»åŠ¨ */
@keyframes logo-entrance {
    0% {
        opacity: 0;
        transform: scale(0.5);
        filter: brightness(0);
    }
    30% {
        opacity: 1;
        transform: scale(1.1);
        filter: brightness(1.2) drop-shadow(0 0 30px var(--main-color));
    }
    60% {
        transform: scale(1);
    }
    100% {
        /* è¿™é‡Œçš„ä½ç½®éœ€è¦æ ¹æ®ä½ çš„ Logo æœ€ç»ˆä½ç½®å¾®è°ƒ */
        /* è¿™é‡Œçš„åæ ‡æ˜¯å¤§æ¦‚å€¼ï¼ŒJS ä¼šåœ¨åŠ¨ç”»ç»“æŸåè®©å®ƒæ¶ˆå¤±å¹¶æ˜¾ç¤ºçœŸå® Logo */
        opacity: 0; 
        transform: scale(0.3) translateY(-100px);
    }
}

/* é¢„è®¾è®©å¯¼èˆªå’Œå†…å®¹å…ˆéšè—ï¼Œç­‰å¼€åœºç»“æŸå†æµ®ç° */
.nav, .content {
    opacity: 0;
    transform: translateY(20px);
    transition: 1s all ease 0.5s; /* å»¶è¿Ÿ 2s æ˜¾ç¤º */
}

.nav.show, .content.show {
    opacity: 1;
    transform: translateY(0);
}

 /* è§†é¢‘åˆ‡æ¢æ—¶çš„è¿‡æ¸¡æ•ˆæœ */
.video-fade {
    opacity: 0 !important;
    transition: opacity 0.4s ease-in-out;
}

#bg-video {
    /* ç¡®ä¿åŸè§†é¢‘ä¹Ÿæœ‰åŸºç¡€è¿‡æ¸¡ */
    transition: opacity 0.6s ease-in-out;
}

/* --- 1. Logo å‘¼å¸ç¯ç‰¹æ•ˆ --- */
.logo-btn img {
    filter: drop-shadow(0 0 5px var(--main-color));
    animation: logo-glow 3s infinite alternate ease-in-out;
}

@keyframes logo-glow {
    from { filter: drop-shadow(0 0 5px var(--main-color)); opacity: 0.8; }
    to { filter: drop-shadow(0 0 15px var(--main-color)); opacity: 1; }
}

/* --- 2. ç”µè§†æœºå…³æœºç‰¹æ•ˆï¼šè§†é¢‘æ¶ˆå¤±æ—¶çš„åŠ¨ç”» --- */
.tv-off {
    animation: tv-shutdown 0.4s cubic-bezier(0.23, 1, 0.32, 1) forwards !important;
}

@keyframes tv-shutdown {
    0% { transform: scale(1, 1); filter: brightness(1); opacity: 1; }
    50% { transform: scale(1, 0.02); filter: brightness(2); opacity: 0.8; }
    100% { transform: scale(0, 0.02); filter: brightness(5); opacity: 0; }
}


/* =========================================
   æ‰‹æœºç«¯é€‚é… (å±å¹•å®½åº¦å°äº 768px)
   ========================================= */
@media (max-width: 768px) {
    /* 1. è®©å·¦ä¾§æŒ‰é’®å˜å°å¹¶ç¨å¾®ä¸‹ç§»ï¼Œé¿å¼€ Logo */
    .nav {
        top: 100px; /* é¿å¼€å·¦ä¸Šè§’ Logo */
        left: 20px;
        gap: 8px;
    }
    .nav button {
        width: 100px; /* æ‰‹æœºç«¯æŒ‰é’®çª„ä¸€ç‚¹ */
        padding: 10px;
        font-size: 11px;
    }
    .logo-btn { width: 70px; }

    /* 2. åå­—ä½ç½® */
    .content { bottom: 40px; left: 20px; }
    h1 { font-size: 38px; }

    /* 3. ä¿®å¤æ¡£æ¡ˆå¡ï¼šæ”¹ä¸ºå…¨å±åŠé€æ˜é®ç½©ï¼Œç‚¹å‡»æˆå‘˜æ‰å‡ºç° */
    .info-card {
        width: 100%;
        height: auto;
        min-height: 30vh;
        right: 0;
        top: auto;
        bottom: -100%; /* åˆå§‹è—åœ¨åº•éƒ¨ */
        left: 0;
        border-right: none;
        border-top: 4px solid var(--main-color);
        background: rgba(0, 0, 0, 0.9); /* åŠ æ·±èƒŒæ™¯ï¼Œç¡®ä¿çœ‹æ¸…å­— */
        padding: 30px;
        z-index: 99; /* ç¡®ä¿åœ¨æœ€é¡¶å±‚ */
        transition: 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        display: flex;
        flex-direction: row; /* æ‰‹æœºç«¯æ¨ªå‘æ’ä¸¤åˆ— */
        flex-wrap: wrap;
    }

    /* æ¿€æ´»æ—¶æ»‘ä¸Šæ¥ */
    .info-card.active {
        bottom: 0;
    }

    .info-item {
        width: 50%; /* ä¸€è¡Œä¸¤ä¸ªé¡¹ç›® */
        margin-bottom: 20px;
    }
    .info-item .data-text { font-size: 16px; }
}

    </style>
</head>

<body>

    <div id="intro-overlay">
    <img src="assets/img/logo.png" id="intro-logo" alt="CORTIS">
</div>


    <div id="photoSlider">
        <img src="assets/img/team1.png" class="active">
        <img src="assets/img/team2.png">
        <img src="assets/img/team3.png">
    </div>

    <video id="bgVideo" autoplay muted loop playsinline webkit-playsinline x5-playsinline x5-video-player-type="h5-page"></video>

    <div class="nav">
        <div class="logo-btn" onclick="resetToTeam()">
            <img src="assets/img/logo.png" alt="CORTIS">
        </div>
        <button onclick="changeMember('martin', event)">MARTIN</button>
        <button onclick="changeMember('james', event)">JAMES</button>
        <button onclick="changeMember('juhoon', event)">JUHOON</button>
        <button onclick="changeMember('seonghyeon', event)">SEONGHYEON</button>
        <button onclick="changeMember('keonho', event)">KEONHO</button>
    </div>

    <div id="infoCard" class="info-card">
        <div class="info-item"><h4>BIRTHDAY</h4><div id="dBirthday" class="data-text">-</div></div>
        <div class="info-item"><h4>CONSTELLATION</h4><div id="dConst" class="data-text">-</div></div>
        <div class="info-item"><h4>MBTI</h4><div id="dMbti" class="data-text">-</div></div>
        <div class="info-item"><h4>ANIMAL</h4><div id="dAnimal" class="data-text">-</div></div>
    </div>

    <div class="content">
        <h1 id="mName">CORTIS</h1>
        <h3 id="mRole">BEYOND THE STAGE</h3>
    </div>

    <script>
       const video = document.getElementById('bgVideo');
const infoCard = document.getElementById('infoCard');
const photos = document.querySelectorAll('#photoSlider img');
let currentPhotoIndex = 0;
let sliderTimer = null;
let currentVoice = null; // ç¡®ä¿è¿™è¡Œä»£ç åœ¨è¿™é‡Œï¼Œå®ƒæ˜¯æ§åˆ¶è¯­éŸ³çš„å…³é”®

// 2. ã€å°±åœ¨è¿™é‡Œï¼ã€‘æŠŠ typeWriter å‡½æ•°ç²˜è´´è¿›æ¥
    function typeWriter(element, text, speed = 50) {
        element.innerText = '';
        let i = 0;
        // æ¸…é™¤å¯èƒ½å­˜åœ¨çš„æ—§å®šæ—¶å™¨ï¼Œé˜²æ­¢æ–‡å­—é‡å 
        if (element.timer) clearInterval(element.timer);
        
        element.timer = setInterval(() => {
            if (i < text.length) {
                element.innerText += text.charAt(i);
                i++;
            } else {
                clearInterval(element.timer);
            }
        }, speed);
    }

// è‡ªåŠ¨è½®æ’­é€»è¾‘
function startSlider() {
    if (sliderTimer) return;
    sliderTimer = setInterval(() => {
        if (window.getComputedStyle(video).opacity === "0") {
            photos[currentPhotoIndex].classList.remove('active');
            currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
            photos[currentPhotoIndex].classList.add('active');
        }
    }, 4000);
}
startSlider();

const memberData = {
    martin: { birth: '2008.03.20', const: 'åŒé±¼åº§', mbti: 'INFP', animal: 'çµç¼‡çŠ¬ ğŸ•â€ğŸ¦º', color: '#CCFF00' },
    james: { birth: '2005.10.14', const: 'å¤©ç§¤åº§', mbti: 'INTP', animal: 'é¹° ğŸ¦…', color: '#A020F0' },
    juhoon: { birth: '2008.01.03', const: 'æ‘©ç¾¯åº§', mbti: 'ISFP', animal: 'ä¹Œé¾Ÿ ğŸ¢', color: '#00BFFF' },
    seonghyeon: { birth: '2009.01.13', const: 'æ‘©ç¾¯åº§', mbti: 'INTP', animal: 'ç‹ç‹¸ ğŸ¦Š', color: '#FF4500' },
    keonho: { birth: '2009.02.14', const: 'æ°´ç“¶åº§', mbti: 'INTP', animal: 'å°ç‹— ğŸ¶', color: '#FFD700' }
};

// --- ä¼˜åŒ–åçš„è¯­éŸ³æ’­æ”¾ï¼ˆå¸¦æ·¡å…¥ï¼‰ ---
function playMemberVoice(key) {
    if (currentVoice) { 
        currentVoice.pause(); 
        currentVoice.currentTime = 0;
    }
    
    currentVoice = new Audio(`assets/audio/${key}.mp3`);
    currentVoice.volume = 0; // èµ·å§‹éŸ³é‡ç»å¯¹ä¸º0

    currentVoice.onplay = () => {
        document.querySelector('.content').classList.add('speaking');
        
        let targetVolume = 0.7; // ç¨å¾®è°ƒä½ä¸Šé™ï¼Œæ›´æ˜¾é«˜çº§
        let duration = 900;    // æ‹‰é•¿åˆ° 1.5 ç§’æ·¡å…¥ï¼Œæå…¶æ¸©æŸ”
        let startTime = performance.now();

        function fade() {
            let now = performance.now();
            let elapsed = now - startTime;
            let progress = Math.min(elapsed / duration, 1);
            
            // --- æ ¸å¿ƒæ”¹åŠ¨ï¼šæŒ‡æ•°çº§æ›²çº¿ ---
            // ä½¿ç”¨ progress çš„å¹³æ–¹ï¼Œè®©éŸ³é‡ä»å°åˆ°å¤§çš„è¿‡ç¨‹æ›´é¡ºæ»‘ï¼Œä¸ä¼šçªç„¶â€œè·³â€å‡ºæ¥
            currentVoice.volume = Math.pow(progress, 2) * targetVolume;

            if (progress < 1) {
                requestAnimationFrame(fade);
            }
        }
        requestAnimationFrame(fade);
    };

    currentVoice.onended = () => document.querySelector('.content').classList.remove('speaking');
    currentVoice.play().catch(e => console.log("Audio play blocked"));
}
async function changeMember(key, e) {
    // ã€æ–°å¢ã€‘æ¸…é™¤å…³æœºåŠ¨ç”»æ®‹ç•™
    video.classList.remove('tv-off');
    // æŒ‰é’®æ ·å¼åˆ‡æ¢
    document.querySelectorAll('.nav button').forEach(btn => {
        btn.style.background = 'rgba(0,0,0,0.5)';
        btn.style.color = '#fff';
    });
    e.currentTarget.style.background = 'var(--main-color)';
    e.currentTarget.style.color = '#000';

    const localD = memberData[key];
    
    // åŠ è½½è§†é¢‘ä¸è¯­éŸ³
    video.src = `assets/video/${key}.mp4`;
    video.style.opacity = '1';
    video.style.zIndex = '1';
    video.play();

    setTimeout(() => { 
        playMemberVoice(key); 
    }, 200);

    // æ›´æ–°æ–‡å­—å’Œä¸»é¢˜è‰²
    document.getElementById('mName').innerText = key.toUpperCase();
    document.getElementById('dBirthday').innerText = localD.birth;
    document.getElementById('dConst').innerText = localD.const;
    document.getElementById('dMbti').innerText = localD.mbti;
    document.getElementById('dAnimal').innerText = localD.animal;
    document.documentElement.style.setProperty('--main-color', localD.color);

    infoCard.classList.add('active');
}

function resetToTeam() {

// 1. ã€æ–°å¢ã€‘é‡ç½®æ‰€æœ‰å¯¼èˆªæŒ‰é’®çš„æ ·å¼
    document.querySelectorAll('.nav button').forEach(btn => {
        btn.style.background = 'rgba(0,0,0,0.5)'; // å˜å›åŠé€æ˜é»‘
        btn.style.color = '#fff';                // æ–‡å­—å˜ç™½
    });

    // 1. ç«‹å³åœæ­¢è¯­éŸ³å¹¶ç§»é™¤å¾‹åŠ¨æ¡
    if (currentVoice) { 
        currentVoice.pause(); 
        currentVoice.currentTime = 0; 
    }
    // 2. ã€æ ¸å¿ƒä¿®æ”¹ã€‘ç«‹å³ç§»é™¤è·³åŠ¨æ•ˆæœï¼Œè®©ç™½çº¿å˜å›ç»¿çº¿å¹¶é™æ­¢
    document.querySelector('.content').classList.remove('speaking');

// --- ç”µè§†å…³æœºæ ¸å¿ƒé€»è¾‘ ---
    // 1. ç»™è§†é¢‘åŠ ä¸Šâ€œå…³æœºâ€åŠ¨ç”»ç±»
   // video.classList.add('tv-off');

// 3. åŠ¨ç”»ç»“æŸåï¼ˆ400msï¼‰å½»åº•éšè—è§†é¢‘å¹¶é‡ç½®
    setTimeout(() => {
        video.style.opacity = 0;
        video.style.zIndex = -1;
        video.pause();
        video.classList.remove('tv-off'); // ç§»é™¤ç±»åä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨
    }, 400);

    //video.style.opacity = 0;
    //video.style.zIndex = -1;
    //video.pause();
    // 4. é‡ç½®å¡ç‰‡å’Œæ–‡å­—
    infoCard.classList.remove('active');
    document.getElementById('mName').innerText = "CORTIS";
    document.getElementById('mRole').innerText = "BEYOND THE STAGE";
  
// æ¸…ç©ºæ‰“å­—æœºæ–‡å­—
    const dataFields = ['dBirthday', 'dConst', 'dMbti', 'dAnimal'];
    dataFields.forEach(id => {
        const el = document.getElementById(id);
        if (el.timer) clearInterval(el.timer); // åœæ­¢æ­£åœ¨è¿›è¡Œçš„æ‰“å­—
        el.innerText = '-';
    });

    document.documentElement.style.setProperty('--main-color', '#CCFF00');
}

// å¼€åœºåŠ¨ç”»é€»è¾‘
window.addEventListener('load', () => {
    setTimeout(() => {
        document.getElementById('intro-overlay').style.opacity = '0';
        setTimeout(() => {
            
            document.getElementById('intro-overlay').style.display = 'none';
            document.querySelector('.nav').classList.add('show');
            document.querySelector('.content').classList.add('show');
        }, 800);
    }, 1200);
});
    </script>
</body>

</html>

